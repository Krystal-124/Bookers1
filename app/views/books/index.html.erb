<% if flash[:notice] %>
  <p id="notice">
    <%= flash[:notice] %>
  </p>
<% end %>
<h2>Books</h2>
<table>
    <tr>
        <th>Title</th>
        <th>Body</th>
        <th></th>
    </tr>
    <% @books.each do |book| %>
    <tr>
        <th>
        <%= book.title %>
        </th>
        <th>
        <%= book.body %>
        </th>
        <th>
        <%= link_to "Show",book_path(book) %>
        <%= link_to "Edit",edit_book_path(book) %>
        <%= link_to "Destroy",book_path(book) , method: :delete, data: {confirm: "Are you sure?"} %>
        </th>
    </tr>

    <% end %>
</table>
<h1>New book</h1>

<% @book = Book.new unless @book %>
<%= form_with model:@book, local:true do |f| %>
<% if @book.errors.any? %>
        <ul>
            <% @book.errors.full_messages.each do |msg| %>
            <li><%= msg %>error</li>
            <% end %>
        </ul>
    <% end %>


    <%= f.label :title %>
    <%= f.text_field :title %>
    <br>
    <%= f.label :body %>
    <%= f.text_area :body %>
    <%= f.submit %>
<% end %>








